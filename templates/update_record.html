<!DOCTYPE html>
<html>
<head>
    <title>Update Record</title>
    <link rel="stylesheet" href="/static/styles.css"/>
</head>
<body>
    <div class="background"></div>

    <div class="top-left">
        <button onclick="location.href='{{url_for('admin_dashboard')}}'">Back</button>
    </div>
    <div class="center">
        <h1>Update Survey Record</h1>
        <form method="post" action="{{ url_for('update_record', survey_id=animal.survey_id) }}">
            <label for="survey_id">Survey ID: </label>
            <input type="text" name="survey_id" id="survey_id" value="{{ animal.survey_id }}" readonly/><br>
            
            <label for="animal_name">Name of animal: </label>
            <input type="text" name="animal_name" id="animal_name" value="{{ animal.animal_name }}" pattern="^[a-zA-Z\s]+$" required/><br>
            
            <label for="place">District of Survey: </label>
            <input type="text" name="place" id="place" value="{{ animal.place }}" pattern="^[a-zA-Z\s]+$" required/><br>

            <label for="location">State:</label>
            <select name="location" id="location">
                <option value="Andhra Pradesh" {% if animal.location == 'Andhra Pradesh' %}selected{% endif %}>Andhra Pradesh</option>
                <option value="Arunachal Pradesh" {% if animal.location == 'Arunachal Pradesh' %}selected{% endif %}>Arunachal Pradesh</option>
                <option value="Assam" {% if animal.location == 'Assam' %}selected{% endif %}>Assam</option>
                <option value="Bihar" {% if animal.location == 'Bihar' %}selected{% endif %}>Bihar</option>
                <option value="Chhattisgarh" {% if animal.location == 'Chhattisgarh' %}selected{% endif %}>Chhattisgarh</option>
                <option value="Goa" {% if animal.location == 'Goa' %}selected{% endif %}>Goa</option>
                <option value="Gujarat" {% if animal.location == 'Gujarat' %}selected{% endif %}>Gujarat</option>
                <option value="Haryana" {% if animal.location == 'Haryana' %}selected{% endif %}>Haryana</option>
                <option value="Himachal Pradesh" {% if animal.location == 'Himachal Pradesh' %}selected{% endif %}>Himachal Pradesh</option>
                <option value="Jharkhand" {% if animal.location == 'Jharkhand' %}selected{% endif %}>Jharkhand</option>
                <option value="Karnataka" {% if animal.location == 'Karnataka' %}selected{% endif %}>Karnataka</option>
                <option value="Kerala" {% if animal.location == 'Kerala' %}selected{% endif %}>Kerala</option>
                <option value="Madhya Pradesh" {% if animal.location == 'Madhya Pradesh' %}selected{% endif %}>Madhya Pradesh</option>
                <option value="Maharashtra" {% if animal.location == 'Maharashtra' %}selected{% endif %}>Maharashtra</option>
                <option value="Manipur" {% if animal.location == 'Manipur' %}selected{% endif %}>Manipur</option>
                <option value="Meghalaya" {% if animal.location == 'Meghalaya' %}selected{% endif %}>Meghalaya</option>
                <option value="Mizoram" {% if animal.location == 'Mizoram' %}selected{% endif %}>Mizoram</option>
                <option value="Nagaland" {% if animal.location == 'Nagaland' %}selected{% endif %}>Nagaland</option>
                <option value="Odisha" {% if animal.location == 'Odisha' %}selected{% endif %}>Odisha</option>
                <option value="Punjab" {% if animal.location == 'Punjab' %}selected{% endif %}>Punjab</option>
                <option value="Rajasthan" {% if animal.location == 'Rajasthan' %}selected{% endif %}>Rajasthan</option>
                <option value="Sikkim" {% if animal.location == 'Sikkim' %}selected{% endif %}>Sikkim</option>
                <option value="Tamil Nadu" {% if animal.location == 'Tamil Nadu' %}selected{% endif %}>Tamil Nadu</option>
                <option value="Telangana" {% if animal.location == 'Telangana' %}selected{% endif %}>Telangana</option>
                <option value="Tripura" {% if animal.location == 'Tripura' %}selected{% endif %}>Tripura</option>
                <option value="Uttar Pradesh" {% if animal.location == 'Uttar Pradesh' %}selected{% endif %}>Uttar Pradesh</option>
                <option value="Uttarakhand" {% if animal.location == 'Uttarakhand' %}selected{% endif %}>Uttarakhand</option>
                <option value="West Bengal" {% if animal.location == 'West Bengal' %}selected{% endif %}>West Bengal</option>
            </select><br>
            
            <label for="animal_count">Count of Animals: </label>
            <input type="number" name="animal_count" id="animal_count" value="{{ animal.animal_count }}" min="0"/><br>
            
            <label for="survey_date">Surveyed Date: </label>
            <input type="date" name="survey_date" id="survey_date" value="{{ animal.survey_date }}" required/><br>
            
            <label for="surveyor_name">Name of the Surveyor: </label>
            <input type="text" name="surveyor_name" id="surveyor_name" value="{{ animal.surveyor_name }}" pattern="^[a-zA-Z\s-]+$" required/><br>
                
            <label for="status">Status of the Survey: </label>
            <select name="status" id="status">
                <option value="In Progress" {% if animal.status == 'In Progress' %}selected{% endif %}>In Progress</option>
                <option value="Completed" {% if animal.status == 'Completed' %}selected{% endif %}>Completed</option>
                <option value="Aborted" {% if animal.status == 'Aborted' %}selected{% endif %}>Aborted</option>
            </select><br>
            
            <label for="notes">Notes: </label>
            <textarea name="notes" id="notes" rows="5" cols="50">{{ animal.notes }}</textarea><br>
            <button type="submit">Update Record</button>
        </form>

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div class="flash-messages">
                    {% for message in messages %}
                        <div class="flash-message">{{ message }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}
    </div>
</body>
</html>
